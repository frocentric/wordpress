_.templateSettings={evaluate:/<#([\s\S]+?)#>/g,interpolate:/<#=([\s\S]+?)#>/g},jQuery(document).ready(function(e){var n=Backbone.View.extend({el:e("#nf_key_fields"),initialize:function(){_.bindAll(this,"render"),this.render()},render:function(){_.each(nf_wh_args,function(e,n){var i=new t;i.render(e,n)})},events:{"click .add":"addArgs","click .add-all":"addAll","click .remove":"removeArgs","click .remove-all":"removeAll"},addArgs:function(e){e.preventDefault(),this.renderArgs({},"new")},renderArgs:function(e,n,i){var r=new t;r.render(e,n,i)},removeArgs:function(n){n.preventDefault(),targetEl=e(n.target).parent().parent().parent(),e(targetEl).remove()},addAll:function(e){e.preventDefault();var n=this;_.each(nf_notifications.process_fields,function(e){var t=[{value:"field_"+e.field_id,label:e.label+" ID - "+e.field_id}];n.renderArgs({key:"field_"+e.field_id,field:"field_"+e.field_id},"new",t)})},removeAll:function(n){n.preventDefault(),e("#nf_wh_args").html("")}}),t=Backbone.View.extend({el:e("#nf_wh_args"),initialize:function(){_.bindAll(this,"render")},render:function(n,t,i){var r=_.template(e("#tmpl-nf-wh-args").html())({args:n,object_id:t}),a=e("<div>").html(r);return this.item=e(a).find(".single-wh-args"),this.tokenize=e(this.item).find(".nf-tokenize"),e(this.el).append(this.item),"undefined"==typeof i&&(i="undefined"==typeof nf_notifications.tokens["wh_args_"+t]||""==nf_notifications.tokens["wh_args_"+t]?"":nf_notifications.tokens["wh_args_"+t]),e(this.tokenize).tokenfield({autocomplete:{source:nf_notifications.search_fields.all,delay:100},tokens:i,delimiter:["`"],showAutocompleteOnFocus:!0,beautify:!1,limit:0,createTokensOnBlur:!0}),this}});new n;e(document).on("change","#wh-json-encode",function(){this.checked?e("#wh-json-use-arg-tr").show():e("#wh-json-use-arg-tr").hide(),e("#wh-json-use-arg").change()}),e(document).on("change","#wh-json-use-arg",function(){this.checked&&e("#wh-json-encode").attr("checked")?e("#wh-json-arg-tr").attr("style",""):e("#wh-json-arg-tr").hide()}),e(document).on("change","#wh-remote-method",function(){"get"==this.value?(e("#wh-json-use-arg").attr("checked",!0).attr("disabled",!0),e("#wh-json-use-arg").change()):e("#wh-json-use-arg").attr("disabled",!1)})});