/*! For license information please see notes.min.js.LICENSE.txt */
(()=>{"use strict";var t={6058:(t,e,r)=>{var n=r(1508),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},c={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function a(t){return n.isMemo(t)?c:u[t.$$typeof]||o}u[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[n.Memo]=c;var l=Object.defineProperty,f=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,r,n){if("string"!=typeof r){if(d){var o=y(r);o&&o!==d&&t(e,o,n)}var c=f(r);s&&(c=c.concat(s(r)));for(var u=a(e),v=a(r),m=0;m<c.length;++m){var h=c[m];if(!(i[h]||n&&n[h]||v&&v[h]||u&&u[h])){var g=p(r,h);try{l(e,h,g)}catch(t){}}}}return e}},4883:(t,e)=>{var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,a=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,s=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,y=r?Symbol.for("react.suspense"):60113,d=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,h=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function R(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case f:case s:case i:case u:case c:case y:return t;default:switch(t=t&&t.$$typeof){case l:case p:case m:case v:case a:return t;default:return e}}case o:return e}}}function O(t){return R(t)===s}e.AsyncMode=f,e.ConcurrentMode=s,e.ContextConsumer=l,e.ContextProvider=a,e.Element=n,e.ForwardRef=p,e.Fragment=i,e.Lazy=m,e.Memo=v,e.Portal=o,e.Profiler=u,e.StrictMode=c,e.Suspense=y,e.isAsyncMode=function(t){return O(t)||R(t)===f},e.isConcurrentMode=O,e.isContextConsumer=function(t){return R(t)===l},e.isContextProvider=function(t){return R(t)===a},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===n},e.isForwardRef=function(t){return R(t)===p},e.isFragment=function(t){return R(t)===i},e.isLazy=function(t){return R(t)===m},e.isMemo=function(t){return R(t)===v},e.isPortal=function(t){return R(t)===o},e.isProfiler=function(t){return R(t)===u},e.isStrictMode=function(t){return R(t)===c},e.isSuspense=function(t){return R(t)===y},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===s||t===u||t===c||t===y||t===d||"object"==typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===v||t.$$typeof===a||t.$$typeof===l||t.$$typeof===p||t.$$typeof===g||t.$$typeof===b||t.$$typeof===w||t.$$typeof===h)},e.typeOf=R},1508:(t,e,r)=>{t.exports=r(4883)},2247:(t,e)=>{var r=60103,n=60106,o=60107,i=60108,c=60114,u=60109,a=60110,l=60112,f=60113,s=60120,p=60115,y=60116,d=60121,v=60122,m=60117,h=60129,g=60131;if("function"==typeof Symbol&&Symbol.for){var b=Symbol.for;r=b("react.element"),n=b("react.portal"),o=b("react.fragment"),i=b("react.strict_mode"),c=b("react.profiler"),u=b("react.provider"),a=b("react.context"),l=b("react.forward_ref"),f=b("react.suspense"),s=b("react.suspense_list"),p=b("react.memo"),y=b("react.lazy"),d=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),h=b("react.debug_trace_mode"),g=b("react.legacy_hidden")}function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case o:case c:case i:case f:case s:return t;default:switch(t=t&&t.$$typeof){case a:case l:case y:case p:case u:return t;default:return e}}case n:return e}}}},7311:(t,e,r)=>{r(2247)},8003:t=>{t.exports=wp.i18n}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={};r.r(t),r.d(t,{ClearActive:()=>w,Close:()=>O,CopyLink:()=>M,Filter:()=>T,Open:()=>W,SetActive:()=>q,Toggle:()=>H});var e={};r.r(e),r.d(e,{Index:()=>tt,ReadStatus:()=>J,Summary:()=>Q,Users:()=>Y});var n={};function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}function c(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=p(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},y.apply(this,arguments)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function h(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return f(t)}function g(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}r.r(n),r.d(n,{NotesAddPanelMenuItem:()=>nt});var w=function(t){v(r,$e.modules.CommandBase);var e=b(r);function r(){return u(this,r),e.apply(this,arguments)}return l(r,[{key:"apply",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,r=void 0===e?null:e,n=window.top.$e.store,o=n.get("notes"),i=o.actions;n.dispatch(i.clearActive(r))}}]),r}();function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}var O=function(t){v(r,$e.modules.CommandBase);var e=R(r);function r(){return u(this,r),e.apply(this,arguments)}return l(r,[{key:"apply",value:function(){this.component.close()}}]),r}();function S(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],c=!0,u=!1;try{for(r=r.call(t);!(c=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{c||null==r.return||r.return()}finally{if(u)throw o}}return i}}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(){function t(){u(this,t)}return l(t,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(e).forEach((function(e){var r=S(e,2),n=r[0],o=r[1];t[n]=o})),this}}]),t}(),P=r(8003).__;function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}var k=function(t){v(r,t);var e=$(r);function r(){var t;u(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return g(f(t=e.call.apply(e,[this].concat(o))),"id",null),g(f(t),"name",""),g(f(t),"slug",""),g(f(t),"avatarUrls",{24:null,48:null,96:null}),g(f(t),"capabilities",{}),t}return l(r,null,[{key:"createFromResponse",value:function(t){var e,n;return(new r).init({id:t.id,name:t.name,slug:t.slug,avatarUrls:t.avatar_urls,capabilities:{notes:{read:null===(e=t.capabilities)||void 0===e||null===(n=e.notes)||void 0===n?void 0:n.can_read}}})}},{key:"createDeleted",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=window.top.$e.components.get("notes").config.urls.avatar_defaults;return(new r).init({name:[t,P("(deleted user)","elementor-pro")].join(" "),avatarUrls:e})}}]),r}(_);function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}var A=function(t){v(r,t);var e=E(r);function r(){var t;u(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return g(f(t=e.call.apply(e,[this].concat(o))),"id",void 0),g(f(t),"type",void 0),g(f(t),"typeTitle",void 0),t}return l(r,null,[{key:"createFromResponse",value:function(t){return(new r).init({id:t.id,type:t.type,typeTitle:t.type_title})}}]),r}(_);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}var C=function(t){v(r,t);var e=j(r);function r(){var t;u(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return g(f(t=e.call.apply(e,[this].concat(o))),"id",null),g(f(t),"parentId",0),g(f(t),"elementId",null),g(f(t),"content",""),g(f(t),"position",{x:0,y:0}),g(f(t),"repliesCount",0),g(f(t),"unreadRepliesCount",0),g(f(t),"replies",[]),g(f(t),"author",null),g(f(t),"readers",[]),g(f(t),"isRead",!1),g(f(t),"isResolved",!1),g(f(t),"routeUrl",""),g(f(t),"routeTitle",""),g(f(t),"userCan",{}),g(f(t),"createdAt",null),g(f(t),"updatedAt",null),g(f(t),"lastActivityAt",null),g(f(t),"_formattedLastActivityAt",""),t}return l(r,[{key:"getFormattedLastActivityAt",value:function(){return this._formattedLastActivityAt||(this._formattedLastActivityAt=this.lastActivityAt.toLocaleString()),this._formattedLastActivityAt}},{key:"getURL",value:function(){var t=this.isReply()?this.parentId:this.id;return this.constructor.getURL(t)}},{key:"isUnreadThread",value:function(){return this.isThread()&&(!this.isRead||this.unreadRepliesCount>0)}},{key:"isThread",value:function(){return 0===this.parentId}},{key:"isReply",value:function(){return!this.isThread()}}],[{key:"createFromResponse",value:function(t){return(new r).init({id:t.id,parentId:t.parent_id,elementId:t.element_id,content:t.content,position:t.position,repliesCount:t.replies_count,unreadRepliesCount:t.unread_replies_count,replies:t.replies.map((function(t){return r.createFromResponse(t)})),author:t.author?k.createFromResponse(t.author):k.createDeleted(t.author_display_name),document:t.document?A.createFromResponse(t.document):null,readers:t.readers?t.readers.map((function(t){return k.createFromResponse(t)})):[],isRead:t.is_read,isResolved:t.is_resolved,routeUrl:t.route_url,routeTitle:t.route_title,userCan:t.user_can,createdAt:new Date(t.created_at),updatedAt:new Date(t.updated_at),lastActivityAt:new Date(t.last_activity_at)})}},{key:"getURL",value:function(t){return window.top.$e.components.get("notes").config.route.note_url_pattern.replace("{{NOTE_ID}}",t)}}]),r}(_);function x(t){if(null===(e=navigator)||void 0===e||!e.clipboard)throw new Error("Cannot copy to clipboard, please make sure you are using SSL in your website.");var e;navigator.clipboard.writeText(t)}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}var M=function(t){v(r,$e.modules.CommandBase);var e=B(r);function r(){return u(this,r),e.apply(this,arguments)}return l(r,[{key:"validateArgs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.requireArgumentType("id","number",t)}},{key:"apply",value:function(t){return x(C.getURL(t.id))}}]),r}();function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}var T=function(t){v(r,$e.modules.CommandBase);var e=I(r);function r(){return u(this,r),e.apply(this,arguments)}return l(r,[{key:"validateArgs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.requireArgument("filters",t)}},{key:"apply",value:function(t){var e=window.top.$e.store,r=e.get("notes").actions,n=t.overwrite?r.setFilters:r.modifyFilters;e.dispatch(n(t.filters))}}]),r}();const D=React;"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?D.useLayoutEffect:D.useEffect;r(6058),r(7311);const F=ReactDOM;var L;L=F.unstable_batchedUpdates;var N="thread";function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}var W=function(t){v(r,$e.modules.CommandBase);var e=U(r);function r(){return u(this,r),e.apply(this,arguments)}return l(r,[{key:"apply",value:function(t){window.top.$e.route(this.component.getNamespace());var e=parseInt(t.id||"0");e>0&&window.top.$e.run("notes/set-active",{type:N,data:{noteId:e}})}}],[{key:"getInfo",value:function(){return{isSafe:!0,isSafeWithArgs:!0}}}]),r}();function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}var q=function(t){v(r,$e.modules.CommandBase);var e=V(r);function r(){return u(this,r),e.apply(this,arguments)}return l(r,[{key:"validateArgs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.requireArgument("type",t),this.requireArgument("data",t)}},{key:"apply",value:function(t){var e=t.type,r=t.data,n=window.top.$e.store;if(!(n.getState().notes.formsInWritingMode.length>0)){var o=n.get("notes").actions;n.dispatch(o.setActive({type:e,data:r}))}}}]),r}();function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}var H=function(t){v(r,$e.modules.CommandBase);var e=z(r);function r(){return u(this,r),e.apply(this,arguments)}return l(r,[{key:"apply",value:function(){this.component.isOpen?window.top.$e.run("notes/close"):window.top.$e.run("notes/open")}}]),r}();function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}var J=function(t){v(r,$e.modules.CommandData);var e=G(r);function r(){return u(this,r),e.apply(this,arguments)}return l(r,null,[{key:"getEndpointFormat",value:function(){return"notes/read-status"}}]),r}();function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}var Q=function(t){v(r,$e.modules.CommandData);var e=K(r);function r(){return u(this,r),e.apply(this,arguments)}return l(r,null,[{key:"getEndpointFormat",value:function(){return"notes/summary"}}]),r}();function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}var Y=function(t){v(r,$e.modules.CommandData);var e=X(r);function r(){return u(this,r),e.apply(this,arguments)}return l(r,null,[{key:"getEndpointFormat",value:function(){return"notes/users"}}]),r}();function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}var tt=function(t){v(r,$e.modules.CommandData);var e=Z(r);function r(){return u(this,r),e.apply(this,arguments)}return l(r,null,[{key:"getEndpointFormat",value:function(){return"notes/{id}"}}]),r}(),et=r(8003).__;function rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}var nt=function(t){v(r,$e.modules.hookUI.After);var e=rt(r);function r(){return u(this,r),e.apply(this,arguments)}return l(r,[{key:"getCommand",value:function(){return"panel/state-ready"}},{key:"getId",value:function(){return"notes-add-panel-menu-item"}},{key:"apply",value:function(){elementor.modules.layouts.panel.pages.menu.Menu.addItem({name:"notes",icon:"eicon-commenting-o",title:et("Notes","elementor-pro"),callback:function(){return window.top.$e.run("notes/open")}},"navigate_from_page","finder")}}]),r}();function ot(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function it(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}var ut=function(r){v(i,$e.modules.ComponentBase);var o=ct(i);function i(t){var e;return u(this,i),g(f(e=o.call(this,t)),"config",{}),window.addEventListener("message",(function(t){"elementor-pro/notes/config"===t.data.name&&(e.config=it(it({},e.config),t.data.payload),e.isInEditor()||window.top.$e.extras.hashCommands.runOnce())})),window.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("wp-admin-bar-elementor_notes");t&&t.addEventListener("click",(function(t){t.preventDefault(),window.top.$e.run("notes/toggle")}))})),e}return l(i,[{key:"getNamespace",value:function(){return"notes"}},{key:"defaultRoutes",value:function(){return{"":function(){}}}},{key:"defaultCommands",value:function(){var e=["create","reply","edit","delete","resolve","re-open","cancel-create","cancel-reply","cancel-edit","choose-mention","open-note-actions","close-note-actions","open-panel-filters","close-panel-filters","refresh-panel"].reduce((function(t,e){return it(it({},t),{},g({},e,(function(){})))}),{});return it(it({},this.importCommands(t)),e)}},{key:"defaultData",value:function(){return this.importCommands(e)}},{key:"defaultHooks",value:function(){return this.importHooks(n)}},{key:"defaultShortcuts",value:function(){return{toggle:{keys:"shift+c",exclude:["input","textarea"]}}}},{key:"defaultStates",value:function(){return{"":{initialState:{active:null,formsInWritingMode:[],filters:{is_resolved:null,only_unread:null,only_relevant:null}},reducers:{setFilters:function(t,e){var r=e.payload;return it(it({},t),{},{filters:r})},modifyFilters:function(t,e){var r=e.payload;return it(it({},t),{},{filters:it(it({},t.filters),r)})},setActive:function(t,e){var r=e.payload;return it(it({},t),{},{active:{type:r.type,data:r.data},formsInWritingMode:[]})},clearActive:function(t){var e,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.payload,i=!o||(null===(e=t.active)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.noteId)===o;return i?it(it({},t),{},{active:null,formsInWritingMode:[]}):t},addFormToWritingMode:function(t,e){var r=e.payload;return it(it({},t),{},{formsInWritingMode:[].concat(c(t.formsInWritingMode),[r])})},removeFormFromWritingMode:function(t,e){var r=e.payload;return it(it({},t),{},{formsInWritingMode:t.formsInWritingMode.filter((function(t){return t!==r}))})}}}}}},{key:"open",value:function(){return!this.isOpen&&(this.isInEditor()&&this.updateEditorState(this.constructor.NOTES_MODE_OPEN),this.getPreviewFrame().postMessage({name:"elementor-pro/notes/open"},"*"),!0)}},{key:"close",value:function(){return!!y(s(i.prototype),"close",this).call(this)&&(this.isInEditor()&&this.updateEditorState(this.constructor.NOTES_MODE_CLOSE),this.getPreviewFrame().postMessage({name:"elementor-pro/notes/close"},"*"),!0)}},{key:"isInEditor",value:function(){return!!window.elementor}},{key:"updateEditorState",value:function(t){var e=this;switch(t){case this.constructor.NOTES_MODE_OPEN:elementor.getPanelView().modeSwitcher.currentView.setMode("preview"),elementor.channels.dataEditMode.once("switch",(function(){e.isOpen&&window.top.$e.run("notes/close")}));break;case this.constructor.NOTES_MODE_CLOSE:elementor.getPanelView().modeSwitcher.currentView.setMode("editor");break;default:throw new Error("mode '".concat(t,"' is not supported."))}}},{key:"getPreviewFrame",value:function(){return this.isInEditor()?elementor.$preview[0].contentWindow:window}}]),i}();g(ut,"NOTES_MODE_OPEN","open"),g(ut,"NOTES_MODE_CLOSE","close"),window.top.$e.components.register(new ut)})()})();