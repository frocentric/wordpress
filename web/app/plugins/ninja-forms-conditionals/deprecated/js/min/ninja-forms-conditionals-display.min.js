function ninja_forms_check_conditional(element,action_value){var form_id=ninja_forms_get_form_id(element),conditional=eval("ninja_forms_form_"+form_id+"_conditionals_settings");conditional=conditional.conditionals;var field_id=jQuery(element).attr("rel");for(field in conditional){var target_field=field.replace("field_",""),conditional_length=jQuery(conditional[field].conditional).length;for(i=0;i<conditional_length;i++)if("undefined"!=typeof conditional[field].conditional[i]){var cr_length=jQuery(conditional[field].conditional[i].cr).length;for(x=0;x<cr_length;x++)if("undefined"!=typeof conditional[field].conditional[i]&&conditional[field].conditional[i].cr[x].field==field_id){var action_value=conditional[field].conditional[i].cr[x].value;ninja_forms_conditional_change(element,target_field,action_value)}}}}function ninja_forms_conditional_change(element,target_field,action_value){var form_id=ninja_forms_get_form_id(element),conditional=eval("ninja_forms_form_"+form_id+"_conditionals_settings");conditional=conditional.conditionals;var cond=conditional["field_"+target_field].conditional;conditional_length=jQuery(cond).length;var pass_array=new Array,value_array=new Array,action_pass=new Object;for(i=0;i<conditional_length;i++){var connector=cond[i].connector,cr_row=cond[i].cr;value_array[i]=cond[i].value,cr_length=jQuery(cr_row).length;var action=cond[i].action;for("and"==connector?pass_array[i]=!0:"or"==connector&&(pass_array[i]=!1),x=0;x<cr_length;x++){if(cr_field=cr_row[x].field,cr_operator=cr_row[x].operator,cr_value=cr_row[x].value,cr_type=jQuery("#ninja_forms_field_"+cr_field+"_type").val(),cr_visible=jQuery("#ninja_forms_field_"+cr_field+"_div_wrap").data("visible"),"list"==cr_type)if("checkbox"==jQuery("#ninja_forms_field_"+cr_field+"_list_type").val()){if(jQuery(".ninja_forms_field_"+cr_field+"[value='"+cr_value+"']").prop("checked"))var field_value=cr_value;else var field_value="";jQuery(".ninja_forms_field_"+cr_field+"[value='"+cr_value+"']").each(function(){!cr_visible})}else if("radio"==jQuery("#ninja_forms_field_"+cr_field+"_list_type").val()){var field_value=jQuery("input[name='ninja_forms_field_"+cr_field+"']:checked").val();jQuery("input[name='ninja_forms_field_"+cr_field+"']").each(function(){!cr_visible})}else field_value=jQuery("#ninja_forms_field_"+cr_field).val();else if("checkbox"==cr_type)if(jQuery("#ninja_forms_field_"+cr_field).prop("checked"))var field_value="checked";else var field_value="unchecked";else field_value=jQuery("#ninja_forms_field_"+cr_field).val();is_numeric(field_value)&&(field_value=field_value%1===0?parseInt(field_value):parseFloat(field_value)),is_numeric(cr_value)&&(cr_value=cr_value%1===0?parseInt(cr_value):parseFloat(cr_value));var tmp=ninja_forms_conditional_compare(field_value,cr_value,cr_operator);1!=cr_visible&&(tmp=!1),"and"==connector?tmp||(pass_array[i]=!1):"or"==connector&&tmp&&(pass_array[i]=!0)}if("undefined"==typeof action_pass[action]&&(action_pass[action]=new Object),"add_value"==action){var value=value_array[i];("undefined"==typeof value.value||"_ninja_forms_no_value"==value.value)&&(value.value=value.label),action_pass[action][value.value]=pass_array[i]}else("undefined"==typeof action_pass[action][cond[i].value]||action_pass[action][cond[i].value]===!1)&&(action_pass[action][cond[i].value]=pass_array[i]?!0:!1)}for(i=0;i<conditional_length;i++)if("undefined"!=typeof cond[i]){var action=cond[i].action;value=value_array[i],"add_value"==action?(("undefined"==typeof value.value||"_ninja_forms_no_value"==value.value)&&(value.value=value.label),pass=action_pass[action][value.value]):pass=action_pass[action][value];var input_type=jQuery("#ninja_forms_field_"+target_field+"_type").val(),list_type="",list=!1;if("list"==input_type&&(input_type=jQuery("#ninja_forms_field_"+target_field+"_list_type").val(),list_type=input_type,list=!0),"show"==action)if(pass){var was_visible=jQuery("#ninja_forms_field_"+target_field+"_div_wrap").data("visible");if(jQuery("#ninja_forms_field_"+target_field+"_div_wrap").show(10,function(){jQuery(document).triggerHandler("ninja_forms_conditional_show")}),jQuery("#ninja_forms_field_"+target_field+"_div_wrap").data("visible",!0),list)if("checkbox"==input_type||"radio"==input_type)var target_element=jQuery("#ninja_forms_field_"+target_field+"_div_wrap").find(".ninja-forms-field:visible:first");else var target_element=jQuery("#ninja_forms_field_"+target_field);else var target_element=jQuery("#ninja_forms_field_"+target_field);was_visible||(jQuery(target_element).hasClass("ninja-forms-field-calc-listen")&&(jQuery(target_element).data("oldValue",""),!list||"checkbox"!=input_type&&"radio"!=input_type?jQuery(target_element).removeClass("ninja-forms-field-calc-no-new-op"):jQuery("#ninja_forms_field_"+target_field+"_div_wrap").find(".ninja-forms-field").each(function(){jQuery(this).removeClass("ninja-forms-field-calc-no-new-op")})),"file"!=jQuery(target_element).attr("type")&&(!list||"checkbox"!=input_type&&"radio"!=input_type?(jQuery(target_element).change(),jQuery(target_element).removeClass("ninja-forms-field-calc-no-new-op")):jQuery("#ninja_forms_field_"+target_field+"_div_wrap").find(".ninja-forms-field").each(function(){jQuery(this).change(),jQuery(this).removeClass("ninja-forms-field-calc-no-new-op")})))}else{if(list)if("checkbox"==input_type||"radio"==input_type)var target_element=jQuery("#ninja_forms_field_"+target_field+"_div_wrap").find(".ninja-forms-field:visible:first");else var target_element=jQuery("#ninja_forms_field_"+target_field);else var target_element=jQuery("#ninja_forms_field_"+target_field);var was_visible=jQuery("#ninja_forms_field_"+target_field+"_div_wrap").data("visible");jQuery("#ninja_forms_field_"+target_field+"_div_wrap").hide(10,function(){jQuery(document).triggerHandler("ninja_forms_conditional_hide")}),jQuery("#ninja_forms_field_"+target_field+"_div_wrap").data("visible",!1),was_visible&&(jQuery(target_element).hasClass("ninja-forms-field-calc-listen")&&(jQuery(target_element).data("oldValue",jQuery(target_element).val()),!list||"checkbox"!=input_type&&"radio"!=input_type?jQuery(target_element).addClass("ninja-forms-field-calc-no-new-op"):jQuery("#ninja_forms_field_"+target_field+"_div_wrap").find(".ninja-forms-field").each(function(){jQuery(this).addClass("ninja-forms-field-calc-no-new-op")})),"file"!=jQuery(target_element).attr("type")&&(!list||"checkbox"!=input_type&&"radio"!=input_type?(jQuery(target_element).change(),jQuery(target_element).addClass("ninja-forms-field-calc-no-old-op")):jQuery("#ninja_forms_field_"+target_field+"_div_wrap").find(".ninja-forms-field").each(function(){jQuery(this).change(),jQuery(this).addClass("ninja-forms-field-calc-no-old-op")})))}else if("hide"==action)if(pass){if(list)if("checkbox"==input_type||"radio"==input_type)var target_element=jQuery("#ninja_forms_field_"+target_field+"_div_wrap").find(".ninja-forms-field:visible:first");else var target_element=jQuery("#ninja_forms_field_"+target_field);else var target_element=jQuery("#ninja_forms_field_"+target_field);var was_visible=jQuery("#ninja_forms_field_"+target_field+"_div_wrap").data("visible");jQuery("#ninja_forms_field_"+target_field+"_div_wrap").hide(),jQuery("#ninja_forms_field_"+target_field+"_div_wrap").data("visible",!1),was_visible&&(jQuery(target_element).hasClass("ninja-forms-field-calc-listen")&&(jQuery(target_element).data("oldValue",jQuery(target_element).val()),!list||"checkbox"!=input_type&&"radio"!=input_type?jQuery(target_element).addClass("ninja-forms-field-calc-no-new-op"):jQuery("#ninja_forms_field_"+target_field+"_div_wrap").find(".ninja-forms-field").each(function(){jQuery(this).addClass("ninja-forms-field-calc-no-new-op")})),"file"!=jQuery(target_element).attr("type")&&(!list||"checkbox"!=input_type&&"radio"!=input_type?jQuery(target_element).change():jQuery("#ninja_forms_field_"+target_field+"_div_wrap").find(".ninja-forms-field").each(function(){jQuery(this).change()})))}else{var was_visible=jQuery("#ninja_forms_field_"+target_field+"_div_wrap").data("visible");if(jQuery("#ninja_forms_field_"+target_field+"_div_wrap").show(),jQuery("#ninja_forms_field_"+target_field+"_div_wrap").data("visible",!0),list)if("checkbox"==input_type||"radio"==input_type)var target_element=jQuery("#ninja_forms_field_"+target_field+"_div_wrap").find(".ninja-forms-field:visible:first");else var target_element=jQuery("#ninja_forms_field_"+target_field);else var target_element=jQuery("#ninja_forms_field_"+target_field);was_visible||(jQuery(target_element).hasClass("ninja-forms-field-calc-listen")&&(jQuery(target_element).data("oldValue",""),!list||"checkbox"!=input_type&&"radio"!=input_type?jQuery(target_element).removeClass("ninja-forms-field-calc-no-new-op"):jQuery("#ninja_forms_field_"+target_field+"_div_wrap").find(".ninja-forms-field").each(function(){jQuery(this).removeClass("ninja-forms-field-calc-no-new-op")})),"file"!=jQuery(target_element).attr("type")&&(!list||"checkbox"!=input_type&&"radio"!=input_type?(jQuery(target_element).change(),jQuery(target_element).removeClass("ninja-forms-field-calc-no-new-op")):jQuery("#ninja_forms_field_"+target_field+"_div_wrap").find(".ninja-forms-field").each(function(){jQuery(this).change(),jQuery(this).removeClass("ninja-forms-field-calc-no-new-op")})))}else if("change_value"==action){var was_checked=jQuery("#ninja_forms_field_"+target_field+"_div_wrap").data("checked");if("checkbox"==input_type)if(list){var checked_now=jQuery("[name='ninja_forms_field_"+target_field+"\\[\\]'][value='"+value+"']").prop("checked");pass?(jQuery("[name='ninja_forms_field_"+target_field+"\\[\\]'][value='"+value+"']").prop("checked",!0),console.log("test")):jQuery("[name='ninja_forms_field_"+target_field+"\\[\\]'][value='"+value+"']").prop("checked",!1)}else{var checked_now=jQuery("#ninja_forms_field_"+target_field).prop("checked");pass&&("checked"==value?jQuery("#ninja_forms_field_"+target_field).prop("checked",!0):"unchecked"==value&&jQuery("#ninja_forms_field_"+target_field).prop("checked",!1),jQuery("#ninja_forms_field_"+target_field).trigger("change"))}else"radio"==input_type?pass?jQuery("[name='ninja_forms_field_"+target_field+"'][value='"+value+"']").prop("checked",!0):jQuery("[name='ninja_forms_field_"+target_field+"'][value='"+value+"']").prop("checked",!1):pass&&jQuery("#ninja_forms_field_"+target_field).val(value);if(list)if("checkbox"==input_type||"radio"==input_type)var target_element=jQuery("[name='ninja_forms_field_"+target_field+"\\[\\]'][value='"+value+"']");else var target_element=jQuery("#ninja_forms_field_"+target_field);else var target_element=jQuery("#ninja_forms_field_"+target_field);jQuery("#ninja_forms_field_"+target_field+"_div_wrap").data("checked",checked_now),i==conditional_length-1&&jQuery(target_element).change()}else if("remove_value"==action){if("dropdown"==input_type)if(pass){var selected_var=jQuery("#ninja_forms_field_"+target_field).val();if(selected_var==value){var next_val=jQuery("#ninja_forms_field_"+target_field+" option[value='"+value+"']").next().val();jQuery("#ninja_forms_field_"+target_field).val(next_val)}jQuery("#ninja_forms_field_"+target_field+" option[value='"+value+"']").hide(),jQuery("#ninja_forms_field_"+target_field+" option[value='"+value+"']").attr("disabled",!0)}else jQuery("#ninja_forms_field_"+target_field+" option[value='"+value+"']").show(),jQuery("#ninja_forms_field_"+target_field+" option[value='"+value+"']").attr("disabled",!1);else if("multi"==input_type)if(pass){var selected_var=jQuery("#ninja_forms_field_"+target_field).val();if(selected_var){var index=selected_var.indexOf(value);-1!=index&&(selected_var.splice(index,1),jQuery("#ninja_forms_field_"+target_field).val(selected_var))}var opt_index=jQuery("#ninja_forms_field_"+target_field+" option[value='"+value+"']").prop("index"),clone=jQuery("#ninja_forms_field_"+target_field+" option[value='"+value+"']").clone();jQuery(clone).attr("title",opt_index),jQuery("#ninja_forms_field_"+target_field+"_clone").append(clone),jQuery("#ninja_forms_field_"+target_field+" option[value='"+value+"']").remove()}else{var clone=jQuery("#ninja_forms_field_"+target_field+"_clone option[value='"+value+"']"),opt_index=jQuery(clone).attr("title");opt_index++;var selected_var=jQuery("#ninja_forms_field_"+target_field).val();jQuery("#ninja_forms_field_"+target_field+" option:nth-child("+opt_index+")").before(clone),jQuery("#ninja_forms_field_"+target_field).val(selected_var)}else("checkbox"==input_type||"radio"==input_type)&&(pass?(jQuery("input[name^=ninja_forms_field_"+target_field+"][value='"+value+"']").attr("checked",!1),jQuery("input[name^=ninja_forms_field_"+target_field+"][value='"+value+"']").parent().hide()):jQuery("input[name^=ninja_forms_field_"+target_field+"][value='"+value+"']").parent().show());if(list)if("checkbox"==input_type||"radio"==input_type)var target_element=jQuery("#ninja_forms_field_"+target_field+"_div_wrap").find(".ninja-forms-field:visible:first");else var target_element=jQuery("#ninja_forms_field_"+target_field);else var target_element=jQuery("#ninja_forms_field_"+target_field)}else if("add_value"==action){if("undefined"!=typeof value){("undefined"==typeof value.value||"_ninja_forms_no_value"==value.value)&&(value.value=value.label);var form_id=ninja_forms_get_form_id(jQuery("#ninja_forms_field_"+target_field));if("undefined"!=typeof window["ninja_forms_form_"+form_id+"_calc_settings"].calc_value[target_field]&&(window["ninja_forms_form_"+form_id+"_calc_settings"].calc_value[target_field][value.value]=value.calc),"dropdown"==input_type||"multi"==input_type)if(pass){var current_count=jQuery("#ninja_forms_field_"+target_field+" option[value='"+value.value+"']").length;0==current_count&&jQuery("#ninja_forms_field_"+target_field).append("<option value='"+value.value+"'>"+value.label+"</option>")}else jQuery("#ninja_forms_field_"+target_field+" option[value='"+value.value+"']").remove();else if("checkbox"==input_type||"radio"==input_type)if(pass){var current_count=jQuery("input[name^=ninja_forms_field_"+target_field+"][value='"+value.value+"']").length;if(0==current_count){var clone=jQuery("#ninja_forms_field_"+target_field+"_template").clone(),count=jQuery(".ninja-forms-field-"+target_field+"-options").length,label_id=jQuery(clone).prop("id").replace("template",count);jQuery(clone).prop("id",label_id);var checkbox_id=jQuery(clone).find(":checkbox").prop("id")+count;if("checkbox"==input_type)var checkbox_name="ninja_forms_field_"+target_field+"[]";else var checkbox_name="ninja_forms_field_"+target_field;jQuery(clone).find(":"+input_type).prop("id",checkbox_id),jQuery(clone).find(":"+input_type).attr("name",checkbox_name),jQuery(clone).find(":"+input_type).val(value.value),jQuery(clone).find(":"+input_type).after(value.label),jQuery(clone).attr("style",""),jQuery("#ninja_forms_field_"+target_field+"_options_span").find("ul").append(clone)}}else jQuery("input[name^=ninja_forms_field_"+target_field+"][value='"+value.value+"']").parent().remove()}if(list)if("checkbox"==input_type||"radio"==input_type)var target_element=jQuery("#ninja_forms_field_"+target_field+"_div_wrap").find(".ninja-forms-field:visible:first");else var target_element=jQuery("#ninja_forms_field_"+target_field);else var target_element=jQuery("#ninja_forms_field_"+target_field)}else pass=pass_array[i],result=window[action](pass,target_field,element)}}function ninja_forms_conditional_compare(e,i,a){switch(a){case"==":return e==i;case"!=":return e!=i;case"<":return i>e;case">":return e>i}}function is_numeric(e){return("number"==typeof e||"string"==typeof e)&&""!==e&&!isNaN(e)}Array.prototype.remove=function(e,i){var a=this.slice((i||e)+1||this.length);return this.length=0>e?this.length+e:e,this.push.apply(this,a)},jQuery(document).ready(function(e){e(document).on("change",".ninja-forms-field-conditional-listen",function(){ninja_forms_check_conditional(this,!0)}),e(document).on("keyup",".ninja-forms-field-conditional-listen",function(){ninja_forms_check_conditional(this,!0)}),e(".ninja-forms-form").on("beforeSubmit.clPreventSubmit",function(i,a,n){var t=e(n).prop("id").replace("ninja_forms_form_","");return 1!=e("#nf_submit_"+t).parent().data("visible")?(e("#nf_processing_"+t).hide(),e("#nf_submit_"+t).show(),!1):void 0})});