function ninja_forms_scroll_to_top(n){jQuery("html, body").animate({scrollTop:jQuery("#ninja_forms_form_"+n+"_wrap").offset().top-300},1e3)}function ninja_forms_error_change_page(n){var r=n.form_id,_=n.errors;if(0!=_&&"undefined"==typeof n.errors["confirm-submit"]){var e=window["ninja_forms_form_"+r+"_mp_settings"],i=n.extras,o=i._current_page,a=jQuery("[name='_current_page']").val();a=parseInt(a);var m=e.page_count,f=e.effect;o!=m&&ninja_forms_mp_change_page(r,a,o,f),ninja_forms_update_progressbar(r,o)}return jQuery("#ninja_forms_form_"+r+"_response_msg").css("display","block"),!0}function ninja_forms_mp_change_page(n,r,_,e){var i=window["ninja_forms_form_"+n+"_mp_settings"],o=i.direction,a=i.page_count;if(direction=r>_?"prev":"next","ltr"==o)if("next"==direction)var m="left",f="right";else var m="right",f="left";else if("rtl"==o)if("next"==direction)var m="right",f="left";else var m="left",f="right";else if("ttb"==o)if("next"==direction)var m="up",f="down";else var m="down",f="up";else if("btt"==o)if("next"==direction)var m="down",f="up";else var m="up",f="down";jQuery("[name='_current_page']").val(_),1==_?(jQuery("#ninja_forms_form_"+n+"_mp_prev").hide(),jQuery("#ninja_forms_form_"+n+"_mp_next").show()):a>_?(jQuery("#ninja_forms_form_"+n+"_mp_prev").show(),jQuery("#ninja_forms_form_"+n+"_mp_next").show()):(jQuery("#ninja_forms_form_"+n+"_mp_prev").show(),jQuery("#ninja_forms_form_"+n+"_mp_next").hide()),jQuery(".ninja-forms-form-"+n+"-mp-page-list-active").addClass("ninja-forms-form-"+n+"-mp-page-list-inactive"),jQuery(".ninja-forms-form-"+n+"-mp-page-list-active").removeClass("ninja-forms-form-"+n+"-mp-page-list-active"),jQuery(".ninja-forms-form-"+n+"-mp-page-list-inactive[rel="+_+"]").addClass("ninja-forms-form-"+n+"-mp-page-list-active"),jQuery(".ninja-forms-form-"+n+"-mp-page-list-inactive[rel="+_+"]").removeClass("ninja-forms-form-"+n+"-mp-page-list-inactive"),jQuery("[name='_mp_page_"+_+"']").addClass("ninja-forms-form-"+n+"-mp-breadcrumb-active"),jQuery("[name='_mp_page_"+_+"']").addClass("ninja-forms-mp-breadcrumb-active"),jQuery("[name='_mp_page_"+_+"']").removeClass("ninja-forms-form-"+n+"-mp-breadcrumb-inactive"),jQuery("[name='_mp_page_"+_+"']").removeClass("ninja-forms-mp-breadcrumb-inactive"),jQuery("[name='_mp_page_"+r+"']").addClass("ninja-forms-form-"+n+"-mp-breadcrumb-inactive"),jQuery("[name='_mp_page_"+r+"']").addClass("ninja-forms-mp-breadcrumb-inactive"),jQuery("[name='_mp_page_"+r+"']").removeClass("ninja-forms-form-"+n+"-mp-breadcrumb-active"),jQuery("[name='_mp_page_"+r+"']").removeClass("ninja-forms-mp-breadcrumb-active");var s=jQuery(".ninja-forms-form-"+n+"-mp-page-show[rel="+_+"]").prop("id");jQuery("#ninja_forms_form_"+n+"_response_msg").hide(),jQuery(":submit").attr("disabled",!0),jQuery("#ninja_forms_form_"+n+"_mp_page_"+r).hide(e,{direction:f},300,function(){jQuery("#ninja_forms_form_"+n+"_mp_page_"+_).show(e,{direction:m},200,function(){jQuery(document).triggerHandler("mp_page_change",[n,_,r]),jQuery(":submit").attr("disabled",!1)})}),ninja_forms_toggle_nav(n,s)}function ninja_forms_before_submit_update_progressbar(n,r){var _=jQuery(r).prop("id").replace("ninja_forms_form_",""),e=window["ninja_forms_form_"+_+"_mp_settings"];if(js_transition=e.js_transition,1==js_transition){var i=jQuery("[name='_current_page']").val();i=parseInt(i),i++,ninja_forms_update_progressbar(_,i)}}function ninja_forms_update_progressbar(n,r){var _=window["ninja_forms_form_"+n+"_mp_settings"],e=_.page_count;if(1==r)var i=0;else if(r==e+1)i=100;else{r--;var i=r/e;i=Math.ceil(100*i)}jQuery("#ninja_forms_form_"+n+"_progress_bar").find("span").css("width",i+"%")}function ninja_forms_hide_mp_page(n,r,_){var e=ninja_forms_get_form_id(_),i=jQuery("#ninja_forms_field_"+r).attr("rel");n?(1==jQuery("#mp_confirm_page").val()?jQuery("#ninja_forms_form_"+e+"_mp_page_"+i).hide():jQuery("#ninja_forms_field_"+r+"_breadcrumb").hide(),jQuery("#ninja_forms_field_"+r).val(0)):(1==jQuery("#mp_confirm_page").val()?jQuery("#ninja_forms_form_"+e+"_mp_page_"+i).show():jQuery("#ninja_forms_field_"+r+"_breadcrumb").show(),jQuery("#ninja_forms_field_"+r).val(1)),ninja_forms_toggle_nav(e,r)}function ninja_forms_show_mp_page(n,r,_){var e=ninja_forms_get_form_id(_),i=jQuery("#ninja_forms_field_"+r).attr("rel");n?(1==jQuery("#mp_confirm_page").val()?jQuery("#ninja_forms_form_"+e+"_mp_page_"+i).show():jQuery("#ninja_forms_field_"+r+"_breadcrumb").show(),jQuery("#ninja_forms_field_"+r).val(1)):(1==jQuery("#mp_confirm_page").val()?jQuery("#ninja_forms_form_"+e+"_mp_page_"+i).hide():jQuery("#ninja_forms_field_"+r+"_breadcrumb").hide(),jQuery("#ninja_forms_field_"+r).val(0)),ninja_forms_toggle_nav(e,r)}function ninja_forms_toggle_nav(n){0==jQuery(".ninja-forms-form-"+n+"-mp-page-list-inactive").length?(jQuery("#ninja_forms_form_"+n+"_mp_next").hide(),jQuery("#ninja_forms_form_"+n+"_mp_prev").hide()):(0==jQuery(".ninja-forms-form-"+n+"-mp-page-list-active").parent().prevAll().find(".ninja-forms-form-"+n+"-mp-page-list-inactive[value=1]").length?jQuery("#ninja_forms_form_"+n+"_mp_prev").hide():jQuery("#ninja_forms_form_"+n+"_mp_prev").show(),0==jQuery(".ninja-forms-form-"+n+"-mp-page-list-active").parent().nextAll().find(".ninja-forms-form-"+n+"-mp-page-list-inactive[value=1]").length?jQuery("#ninja_forms_form_"+n+"_mp_next").hide():jQuery("#ninja_forms_form_"+n+"_mp_next").show())}function ninja_forms_mp_check_page_conditional(n,r){return 1==jQuery(".ninja-forms-form-"+n+"-mp-page-show[rel="+r+"]").val()?!0:!1}function ninja_forms_mp_set_page_show(n,r){jQuery("#ninja_forms_form_"+n+"_mp_page_"+r+"_show").val(1)}function ninja_forms_mp_set_page_hide(n,r){jQuery("#ninja_forms_form_"+n+"_mp_page_"+r+"_show").val(0)}function ninja_forms_mp_get_page(n){var r=jQuery(n).closest(".ninja-forms-mp-page").attr("rel");return r}function ninja_forms_mp_page_loop(n,r,_,e){"undefined"==typeof window["ninja_forms_form_"+n+"_page_loop"]&&(window["ninja_forms_form_"+n+"_page_loop"]=1);var i=window["ninja_forms_form_"+n+"_mp_settings"],o=ninja_forms_mp_check_page_conditional(n,r);return!o&&window["ninja_forms_form_"+n+"_page_loop"]<=i.page_count&&(r==i.page_count&&(e="prev"),i.page_count>1?("next"==e?r<i.page_count&&(_++,r++):(_--,r=_),window["ninja_forms_form_"+n+"_page_loop"]++,r=ninja_forms_mp_page_loop(n,r,_,e)):r=1),window["ninja_forms_form_"+n+"_page_loop"]=1,r}function ninja_forms_mp_confirm_error_check(n){return"undefined"!=typeof n.errors["confirm-submit"]&&(jQuery("#ninja_forms_form_"+n.form_id+"_all_fields_wrap").remove(),jQuery("#ninja_forms_form_"+n.form_id+"_mp_breadcrumbs").hide(),jQuery("#ninja_forms_form_"+n.form_id+"_progress_bar").hide(),jQuery("#ninja_forms_form_"+n.form_id+"_save_progress").hide(),jQuery("#ninja_forms_form_"+n.form_id+"_mp_nav_wrap").hide(),jQuery("#ninja_forms_form_"+n.form_id+"_mp_confirm").val(1),jQuery("#ninja_forms_form_"+n.form_id).prepend('<div id="ninja_forms_form_'+n.form_id+'_confirm_response">'+n.errors["confirm-submit-msg"].msg+"</div>"),ninja_forms_scroll_to_top(n.form_id)),!0}function ninja_forms_init_tinyMCE(){if("undefined"!=typeof tinyMCE){var n,r,_,e,i;if("undefined"!=typeof tinyMCEPreInit)for(r in tinyMCEPreInit.mceInit)if(n=e?tinyMCEPreInit.mceInit[r]=tinymce.extend({},e,tinyMCEPreInit.mceInit[r]):e=tinyMCEPreInit.mceInit[r],i=tinymce.DOM.select("#wp-"+r+"-wrap")[0],(tinymce.DOM.hasClass(i,"tmce-active")||!tinyMCEPreInit.qtInit.hasOwnProperty(r))&&!n.wp_skip_init)try{tinymce.init(n),window.wpActiveEditor||(window.wpActiveEditor=r)}catch(o){}if("undefined"!=typeof quicktags)for(_ in tinyMCEPreInit.qtInit)try{quicktags(tinyMCEPreInit.qtInit[_]),window.wpActiveEditor||(window.wpActiveEditor=_)}catch(o){}if("undefined"!=typeof jQuery)jQuery(".wp-editor-wrap").on("click.wp-editor",function(){this.id&&(window.wpActiveEditor=this.id.slice(3,-5))});else for(_ in tinyMCEPreInit.qtInit)document.getElementById("wp-"+_+"-wrap").onclick=function(){window.wpActiveEditor=this.id.slice(3,-5)}}}jQuery(document).ready(function(n){n(".ninja-forms-mp-page").each(function(){if(n(this).is(":visible")){var r=n(this).attr("rel");n(this).parent().parent().find("[name='_current_page']").val(r)}}),n(".ninja-forms-form").on("submitResponse",function(n,r){var _=r.form_id,e=window["ninja_forms_form_"+_+"_mp_settings"];return"undefined"!=typeof e?ninja_forms_mp_confirm_error_check(r):!0}),n(".ninja-forms-form").on("submitResponse",function(r,_){var e=_.form_id,i=window["ninja_forms_form_"+e+"_mp_settings"],o=n(document).data("submit_action");return"undefined"!=typeof i&&"submit"==o?ninja_forms_error_change_page(_):!0}),n(".ninja-forms-form").on("beforeSubmit",function(r,_,e,i){var o=n(e).find("#_form_id").val(),a=window["ninja_forms_form_"+o+"_mp_settings"];return"undefined"!=typeof a?ninja_forms_before_submit_update_progressbar(_,e,i):!0}),n(document).on("click",".ninja-forms-mp-confirm-nav",function(r){var _=ninja_forms_get_form_id(this);n("#ninja_forms_form_"+_+"_all_fields_wrap").show(),n("#ninja_forms_form_"+_+"_mp_breadcrumbs").show(),n("#ninja_forms_form_"+_+"_progress_bar").show(),n("#ninja_forms_form_"+_+"_save_progress").show();var e=window["ninja_forms_form_"+_+"_mp_settings"];if(js_transition=e.js_transition,1==js_transition){r.preventDefault();var i=n("[name='_current_page']").val();i=parseInt(i);var o=(e.page_count,e.effect),a=n(this).attr("rel"),m="";a=ninja_forms_mp_page_loop(_,a,i,m),i!=a&&(ninja_forms_mp_change_page(_,i,a,o),ninja_forms_update_progressbar(_,a))}n("#ninja_forms_form_"+_+"_confirm_response").remove(),n("#ninja_forms_form_"+_+"_mp_confirm").val(0)}),n(document).on("click",".ninja-forms-mp-nav",function(r){var _=ninja_forms_get_form_id(this),e=window["ninja_forms_form_"+_+"_mp_settings"];if(js_transition=e.js_transition,1==js_transition){r.preventDefault();var o=n("[name='_current_page']").val();o=parseInt(o);var a=(e.page_count,e.effect);if("_next"==this.name)var m=o+1,f="next";else if("_prev"==this.name)var m=o-1,f="prev";else var m=n(this).attr("rel");if(m=ninja_forms_mp_page_loop(_,m,o,f),o!=m){if("undefined"!=typeof tinyMCE)for(i in tinyMCE.editors)"undefined"!=typeof tinyMCE.editors[i].id&&tinyMCE.editors[i].remove();ninja_forms_mp_change_page(_,o,m,a),ninja_forms_update_progressbar(_,m)}}}),n(document).on("mp_page_change.scroll",function(n,r){ninja_forms_init_tinyMCE(),ninja_forms_scroll_to_top(r)})});